!function(root,factory){"function"==typeof define&&define.amd?define(["exports"],factory):"undefined"!=typeof exports?factory(exports):factory(root.dragscroll={})}(this,function(exports){var newScrollX,newScrollY,_window=window,_document=document,dragged=[],reset=function(i,el){for(i=0;i<dragged.length;)(el=(el=dragged[i++]).container||el).removeEventListener("mousedown",el.md,0),_window.removeEventListener("mouseup",el.mu,0),_window.removeEventListener("mousemove",el.mm,0);for(dragged=[].slice.call(_document.getElementsByClassName("dragscroll")),i=0;i<dragged.length;)!function(el,lastClientX,lastClientY,pushed,scroller,cont){(cont=el.container||el).addEventListener("mousedown",cont.md=function(e){el.hasAttribute("nochilddrag")&&_document.elementFromPoint(e.pageX,e.pageY)!=cont||(pushed=1,lastClientX=e.clientX,lastClientY=e.clientY,e.preventDefault())},0),_window.addEventListener("mouseup",cont.mu=function(){pushed=0},0),_window.addEventListener("mousemove",cont.mm=function(e){pushed&&((scroller=el.scroller||el).scrollLeft-=newScrollX=-lastClientX+(lastClientX=e.clientX),scroller.scrollTop-=newScrollY=-lastClientY+(lastClientY=e.clientY),el==_document.body&&((scroller=_document.documentElement).scrollLeft-=newScrollX,scroller.scrollTop-=newScrollY))},0)}(dragged[i++])};"complete"==_document.readyState?reset():_window.addEventListener("load",reset,0),exports.reset=reset});