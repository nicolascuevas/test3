"function"!=typeof Object.create&&(Object.create=function(obj){function F(){}return F.prototype=obj,new F}),function($,window,document,undefined){"use strict";var Toast={_positionClasses:["bottom-left","bottom-right","top-right","top-left","bottom-center","top-center","mid-center"],_defaultIcons:["success","error","info","warning"],init:function(options,elem){this.prepareOptions(options,$.toast.options),this.process()},prepareOptions:function(options,options_to_extend){var _options={};"string"==typeof options||options instanceof Array?_options.text=options:_options=options,this.options=$.extend({},options_to_extend,_options)},process:function(){this.setup(),this.addToDom(),this.position(),this.bindToast(),this.animate()},setup:function(){var _toastContent="";if(this._toastEl=this._toastEl||$("<div></div>",{class:"jq-toast-single"}),_toastContent+='<span class="jq-toast-loader"></span>',this.options.allowToastClose&&(_toastContent+='<span class="close-jq-toast-single">&times;</span>'),this.options.text instanceof Array){this.options.heading&&(_toastContent+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),_toastContent+='<ul class="jq-toast-ul">';for(var i=0;i<this.options.text.length;i++)_toastContent+='<li class="jq-toast-li" id="jq-toast-item-'+i+'">'+this.options.text[i]+"</li>";_toastContent+="</ul>"}else this.options.heading&&(_toastContent+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),_toastContent+=this.options.text;this._toastEl.html(_toastContent),!1!==this.options.bgColor&&this._toastEl.css("background-color",this.options.bgColor),!1!==this.options.textColor&&this._toastEl.css("color",this.options.textColor),this.options.textAlign&&this._toastEl.css("text-align",this.options.textAlign),!1!==this.options.icon&&(this._toastEl.addClass("jq-has-icon"),-1!==$.inArray(this.options.icon,this._defaultIcons)&&this._toastEl.addClass("jq-icon-"+this.options.icon))},position:function(){"string"==typeof this.options.position&&-1!==$.inArray(this.options.position,this._positionClasses)?"bottom-center"===this.options.position?this._container.css({left:$(window).outerWidth()/2-this._container.outerWidth()/2,bottom:20}):"top-center"===this.options.position?this._container.css({left:$(window).outerWidth()/2-this._container.outerWidth()/2,top:20}):"mid-center"===this.options.position?this._container.css({left:$(window).outerWidth()/2-this._container.outerWidth()/2,top:$(window).outerHeight()/2-this._container.outerHeight()/2}):this._container.addClass(this.options.position):"object"==typeof this.options.position?this._container.css({top:this.options.position.top?this.options.position.top:"auto",bottom:this.options.position.bottom?this.options.position.bottom:"auto",left:this.options.position.left?this.options.position.left:"auto",right:this.options.position.right?this.options.position.right:"auto"}):this._container.addClass("bottom-left")},bindToast:function(){var that=this;this._toastEl.on("afterShown",function(){that.processLoader()}),this._toastEl.find(".close-jq-toast-single").on("click",function(e){e.preventDefault(),"fade"===that.options.showHideTransition?(that._toastEl.trigger("beforeHide"),that._toastEl.fadeOut(function(){that._toastEl.trigger("afterHidden")})):"slide"===that.options.showHideTransition?(that._toastEl.trigger("beforeHide"),that._toastEl.slideUp(function(){that._toastEl.trigger("afterHidden")})):(that._toastEl.trigger("beforeHide"),that._toastEl.hide(function(){that._toastEl.trigger("afterHidden")}))}),"function"==typeof this.options.beforeShow&&this._toastEl.on("beforeShow",function(){that.options.beforeShow()}),"function"==typeof this.options.afterShown&&this._toastEl.on("afterShown",function(){that.options.afterShown()}),"function"==typeof this.options.beforeHide&&this._toastEl.on("beforeHide",function(){that.options.beforeHide()}),"function"==typeof this.options.afterHidden&&this._toastEl.on("afterHidden",function(){that.options.afterHidden()})},addToDom:function(){var _container=$(".jq-toast-wrap");if(0===_container.length?(_container=$("<div></div>",{class:"jq-toast-wrap"}),$("body").append(_container)):this.options.stack&&!isNaN(parseInt(this.options.stack,10))||_container.empty(),_container.find(".jq-toast-single:hidden").remove(),_container.append(this._toastEl),this.options.stack&&!isNaN(parseInt(this.options.stack),10)){var _extToastCount=_container.find(".jq-toast-single").length-this.options.stack;0<_extToastCount&&$(".jq-toast-wrap").find(".jq-toast-single").slice(0,_extToastCount).remove()}this._container=_container},canAutoHide:function(){return!1!==this.options.hideAfter&&!isNaN(parseInt(this.options.hideAfter,10))},processLoader:function(){if(!this.canAutoHide()||!1===this.options.loader)return!1;var loader=this._toastEl.find(".jq-toast-loader"),transitionTime=(this.options.hideAfter-400)/1e3+"s",loaderBg=this.options.loaderBg,style=loader.attr("style")||"";style=style.substring(0,style.indexOf("-webkit-transition")),style+="-webkit-transition: width "+transitionTime+" ease-in;                       -o-transition: width "+transitionTime+" ease-in;                       transition: width "+transitionTime+" ease-in;                       background-color: "+loaderBg+";",loader.attr("style",style).addClass("jq-toast-loaded")},animate:function(){var that=this;if(this._toastEl.hide(),this._toastEl.trigger("beforeShow"),"fade"===this.options.showHideTransition.toLowerCase()?this._toastEl.fadeIn(function(){that._toastEl.trigger("afterShown")}):"slide"===this.options.showHideTransition.toLowerCase()?this._toastEl.slideDown(function(){that._toastEl.trigger("afterShown")}):this._toastEl.show(function(){that._toastEl.trigger("afterShown")}),this.canAutoHide()){that=this;window.setTimeout(function(){"fade"===that.options.showHideTransition.toLowerCase()?(that._toastEl.trigger("beforeHide"),that._toastEl.fadeOut(function(){that._toastEl.trigger("afterHidden")})):"slide"===that.options.showHideTransition.toLowerCase()?(that._toastEl.trigger("beforeHide"),that._toastEl.slideUp(function(){that._toastEl.trigger("afterHidden")})):(that._toastEl.trigger("beforeHide"),that._toastEl.hide(function(){that._toastEl.trigger("afterHidden")}))},this.options.hideAfter)}},reset:function(resetWhat){"all"===resetWhat?$(".jq-toast-wrap").remove():this._toastEl.remove()},update:function(options){this.prepareOptions(options,this.options),this.setup(),this.bindToast()}};$.toast=function(options){var toast=Object.create(Toast);return toast.init(options,this),{reset:function(what){toast.reset(what)},update:function(options){toast.update(options)}}},$.toast.options={text:"",heading:"",showHideTransition:"fade",allowToastClose:!0,hideAfter:3e3,loader:!0,loaderBg:"#9EC600",stack:5,position:"bottom-left",bgColor:!1,textColor:!1,textAlign:"left",icon:!1,beforeShow:function(){},afterShown:function(){},beforeHide:function(){},afterHidden:function(){}}}(jQuery,window,document);