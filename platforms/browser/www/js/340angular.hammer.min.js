!function(a,b){"use strict";function c(a,c){return void 0===a||void 0===c?null:(d=-1<c.indexOf("pan")?new b.Pan:-1<c.indexOf("pinch")?new b.Pinch:-1<c.indexOf("press")?new b.Press:-1<c.indexOf("rotate")?new b.Rotate:-1<c.indexOf("swipe")?new b.Swipe:new b.Tap,a.add(d),d);var d}function e(a){return-1<a.indexOf("pan")?"pan":-1<a.indexOf("pinch")?"pinch":-1<a.indexOf("press")?"press":-1<a.indexOf("rotate")?"rotate":-1<a.indexOf("swipe")?"swipe":-1<a.indexOf("tap")?"tap":"custom"}function f(a,b,d){if(null==a||null==b||null==b.type)return console.error("ERROR: Angular Hammer could not setup the recognizer. Values of the passed manager and options: ",a,b);var f,i,e=a.get(b._name);(e||(e=c(a,b._name)),b.directions||("pan"===b._name||"swipe"===b._name?b.directions="DIRECTION_ALL":-1<b._name.indexOf("left")?b.directions="DIRECTION_LEFT":-1<b._name.indexOf("right")?b.directions="DIRECTION_RIGHT":-1<b._name.indexOf("up")?b.directions="DIRECTION_UP":-1<b._name.indexOf("down")?b.directions="DIRECTION_DOWN":b.directions=""),b.direction=g(b.directions),e.set(b),"string"==typeof b.recognizeWith)&&(null==a.get(b.recognizeWith)&&(f=c(a,b.recognizeWith)),null!=f&&e.recognizeWith(f));("string"==typeof b.dropRecognizeWith&&null!=a.get(b.dropRecognizeWith)&&e.dropRecognizeWith(a.get(b.dropRecognizeWith)),"string"==typeof b.requireFailure)&&(null==a.get(b.requireFailure)&&(i=c(a,{type:b.requireFailure})),null!=i&&e.requireFailure(i));"string"==typeof b.dropRequireFailure&&null!=a.get(b.dropRequireFailure)&&e.dropRequireFailure(a.get(b.dropRequireFailure)),!0===b.preventGhosts&&null!=d&&function(a){function b(a){for(var b=0;b<f.length;b++){var c=f[b][0],d=f[b][1];if(Math.abs(a.clientX-c)<25&&Math.abs(a.clientY-d)<25){a.stopPropagation(),a.preventDefault();break}}}function d(){f.splice(0,1)}if(a){var f=[];"ontouchstart"in window&&(a[0].addEventListener("touchstart",function(){f=[]},!0),a[0].addEventListener("touchend",function(a){if(a.touches.length-a.changedTouches.length<=0){var b=a.changedTouches[0];f.push([b.clientX,b.clientY]),setTimeout(d,2500)}},!0),a[0].addEventListener("click",b,!0),a[0].addEventListener("mouseup",b,!0))}}(d)}function g(c){var d=0;return a.forEach(c.split("|"),function(a){b.hasOwnProperty(a)&&(d|=b[a])}),d}if(void 0===a)throw Error("angular-hammer: AngularJS (angular) is undefined but is necessary.");if(void 0===b)throw Error("angular-hammer: HammerJS (Hammer) is undefined but is necessary.");var j="hmTouchEvents",k=a.module("hmTouchEvents",[]);k.provider(j,function(){function c(b){return(b=a.copy(b)).event?"doubletap"==b.event?(b.type="tap",b.taps||(b.taps=2),b._name="doubletap"):b._name=!1:b._name=b.type||!1,b}function d(a){if("custom"==a)throw Error(j+"Provider: no defaults exist for custom events");var b=e(a);return c("doubletap"==a?{type:b,event:"doubletap"}:{type:b})}var f=this,g=!1,h={},i={},k={};k[b.Tap.toString()]="tap",k[b.Pan.toString()]="pan",k[b.Pinch.toString()]="pinch",k[b.Press.toString()]="press",k[b.Rotate.toString()]="rotate",k[b.Swipe.toString()]="swipe",f.applyHammerPresets=function(){var d=b.defaults.preset;a.forEach(d,function(a){var b=a[1];b.type||(b.type=k[a[0]]),(b=c(b))._name&&(h[b._name]=b)})},f.addManagerOption=function(b,c){"object"==typeof b?a.extend(i,b):i[b]=c},f.addRecognizerOption=function(a){if(Array.isArray(a))for(var b=0;b<a.length;b++)f.addRecognizerOption(a[b]);else{if("object"!=typeof a)throw Error(j+"Provider: addRecognizerOption: should be object or array of objects");(a=c(a))._name?h[a.type]=a:a.event||(g=a)}},f.$get=function(){return{extendWithDefaultManagerOpts:function(b){for(var c in b="object"!=typeof b?{}:a.copy(b),i)b[c]||(b[c]=a.copy(i[c]));return b},extendWithDefaultRecognizerOpts:function(b,f){if("object"!=typeof f&&(f=[]),Array.isArray(f)||(f=[f]),"custom"==b)return f;var i,j=e(b),k=h[b]||h[j],l=!1,m=a.extend({},g||{},k||{});return f.forEach(function(c){return c.event||c.type?void(l||(c.event==b?(i=c,l=!0):c.event||c.type!=j||(i=c))):a.extend(m,c)}),i=i?c(i):d(b),[a.extend(m,i)]}}}}),a.forEach(["hmCustom:custom","hmSwipe:swipe","hmSwipeleft:swipeleft","hmSwiperight:swiperight","hmSwipeup:swipeup","hmSwipedown:swipedown","hmPan:pan","hmPanstart:panstart","hmPanmove:panmove","hmPanend:panend","hmPancancel:pancancel","hmPanleft:panleft","hmPanright:panright","hmPanup:panup","hmPandown:pandown","hmPress:press","hmPressup:pressup","hmRotate:rotate","hmRotatestart:rotatestart","hmRotatemove:rotatemove","hmRotateend:rotateend","hmRotatecancel:rotatecancel","hmPinch:pinch","hmPinchstart:pinchstart","hmPinchmove:pinchmove","hmPinchend:pinchend","hmPinchcancel:pinchcancel","hmPinchin:pinchin","hmPinchout:pinchout","hmTap:tap","hmDoubletap:doubletap"],function(c){var g=c.split(":"),h=g[0],i=g[1];k.directive(h,["$parse","$window",j,function(c,g,k){return{restrict:"A",scope:!1,link:function(l,m,n){if(!b||!g.addEventListener)throw Error(j+": window.Hammer or window.addEventListener not found, can't add event "+h);var o=m.data("hammer"),p=k.extendWithDefaultManagerOpts(l.$eval(n.hmManagerOptions)),q=k.extendWithDefaultRecognizerOpts(i,l.$eval(n.hmRecognizerOptions));o||(o=new b.Manager(m[0],p),m.data("hammer",o),l.$on("$destroy",function(){o.destroy()}));var r=c(n[h]).bind(null,l),s=function(b){b.element=m;var c=!0,d=o.get(e(b.type));if(d){var f=d.options;f.preventDefault&&b.preventDefault(),f.stopPropagation&&b.srcEvent.stopPropagation(),c=a.isUndefined(f.invokeApply)||f.invokeApply}c?l.$apply(function(){r({$event:b})}):r({$event:b})};a.forEach(q,function(a){"custom"!==i&&("doubletap"===i&&o.get("tap")?a.recognizeWith="tap":"pan"==a.type&&o.get("swipe")?a.recognizeWith="swipe":"pinch"==a.type&&o.get("rotate")&&(a.recognizeWith="rotate")),f(o,function(a,b){return a&&(b.preventGhosts=a.preventGhosts),b}(p,a),m),o.on(i,s)})}}}])})}(angular,Hammer);